# SQL Injection
## SQL Inject
SQL 쿼리문이 해커에 의해 조작된채로 전달되어 의도하지 않은 명령을 실행하는 공격 기법을 말한다.

## 공격 방법
### 인증 우회
보통 로그인을 할 때, 아이디와 비밀번호를 입력하게 되는데 아이디로 "vanille", 비밀번호로 "1234"를 입력했다고 해보자. 쿼리는 다음과 같이 전송될 것이다.
~~~xml
SELECT * FROM user WHERE user.id = "vanille" AND user.password = "1234";
~~~

만약에 비밀번호를 입력할 때 다음과 같이 입력했다고 해보자.
~~~xml
1234; DELETE * FROM user where user.id = 1;
~~~

이렇게 되면 로그인 인증이 된 후에 뒤에 작성한 DELETE문도 실행되어 데이터베이스의 데이터가 의도치 않게 삭제될 수 있다.

### 데이터 노출
시스템에서 발생하는 에러 메세지를 이용해 공격하는 방법이다. 예를 들어 GET방식의 경우 쿼리 파라미터가 노출이 되는데 이를 임의적으로 추가시켜 에러를 발생시키고 
에러 메세지를 확인하여 데이터베이스의 구조를 유추할 수 있다.

---

## 방어 방법
1. input값을 받을 때, 특수문자 여부를 검사한다.
2. SQL 서버 오류 발생시 해당하는 에러 메세지를 감춘다. 
3. preparestatement 사용하기 <br>
 -> 특수문자를 자동으로 escaping해주기 때문에 이를 활용해서 서버 측에서 필터링을 거칠 수 있다.
